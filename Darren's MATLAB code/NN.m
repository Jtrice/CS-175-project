function [y1] = NN(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 18-Mar-2015 12:07:36.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 68xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [0;1;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1_gain = [0.308119254610327;0.0066006600660066;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2];
x1_step1_ymin = -1;

% Layer 1
b1 = [-1.513514465430555;1.1222393680497391;0.79166911141685126;0.48580593016342966;0.1561428746156065;0.17542488710680948;0.46278637442888265;0.82072560368556979;1.1441216811155122;1.469311931114625];
IW1_1 = [0.22052872412082475 0.44495283970387345 0.02273671292640872 -0.19839515494606241 0.26583380054310091 -0.3084392912150497 0.2169996733236611 -0.071979317364559481 -0.1513028394006255 -0.092881551401243767 0.043819681107487435 0.13546870417142148 -0.065308251812210921 0.28558399785164329 -0.0023665702275182665 0.4532754271331576 0.45568415157850017 -0.24301919161206778 0.06565994190056626 0.22094355703477309 -0.095347560035607903 0.30138013623467985 -0.057470171003407879 -0.1238056450100459 0.07810315244064199 -0.12191657636801412 0.41058062602502737 -0.07165377820254426 0.18614774707565757 0.27516916246545542 -0.15119098171098266 0.075915284214318257 0.30384311417876103 0.21088449441084994 0.057357474996589136 -0.030640895070805092 -0.20206676985105343 -0.24877849533195048 0.22171251235660594 -0.23402813883945364 0.38002020459223107 0.16104506358589254 -0.047227493271774834 -0.16167036919197314 0.033028390431333529 0.31482268745965181 0.36669671938264237 -0.14890117507029416 -0.18272432266967584 -0.13237547711904163 0.22011469946038983 0.20329753462569961 -0.012773743007399585 -0.20620677997295916 0.10950288724086737 -0.16716261306662464 -0.19290433892242553 -0.1820452883375151 -0.10454321574176811 -0.067942040963010847 -0.14256003020932675 0.23286196783833374 0.29723232723190257 -0.22706246248305592 -0.20557824258510354 -0.086190220752848629 0.091696766514780592 0.13811087558276702;0.17011474498016324 -0.14700251176304283 0.046131001251222298 -0.00075662235436646779 -0.10032649113149424 0.041633804060908552 0.19290964662922788 0.092091927210916705 0.13624074323195354 0.081752776546991673 -0.00046329791267959997 -0.054430903284315019 0.39666189175693861 -0.046290364107783241 0.079727987994588509 0.083025573235119415 0.0019780779785807112 -0.12014814512950214 -0.12876465643987961 -0.1761117108723918 0.057589605084917894 -0.34254680860419834 0.11333540829433447 -0.22443993999517153 -0.23193661367318438 0.34259134126421054 0.010810740986839033 -0.20015784644510376 0.36411563051104001 -0.11530111622205824 -0.27360955107022489 0.034751710304760319 -0.030759184825316005 0.071340247802432658 0.21912562474036762 7.8401829868623985e-05 0.086388795584519729 -0.02497357427622085 -0.020629066956036578 -0.011981250077171716 -0.27734209405491345 0.024437078620066416 0.16724359050857368 0.026034165256344173 -0.011766549391549579 -0.23336708438122342 0.24728839562593505 -0.18962387947471376 0.098965116939138759 0.082521466066998311 0.046189316330149097 0.0062583371284207143 0.10948206577180947 -0.24370216958106625 0.031372232137832849 -0.089929871283580418 -0.075322831962618964 -0.12214116200795269 -0.049505577146002816 -0.18089647201288345 -0.094242217052640756 0.10840698043928385 -0.10755293944752858 -0.18952046816801066 -0.21416279426046106 0.10928324492899144 -0.058826910437287078 -0.25361258459408093;-0.10451315455759284 0.26613291339306522 0.31738670011271136 0.22552267736965134 -0.16197938939932177 -0.026035837526436106 -0.04582025604985171 0.20194944891372879 0.32490691736411187 -0.19959365789316338 0.16287370346834679 -0.15963630838350956 0.15084276933815727 0.12810552399137232 -0.097021136279195119 0.25671904750764507 0.18395234676435332 0.030237868995453401 -0.27606672477781186 -0.035558726283083847 0.23608881214725883 -0.079826006570411667 0.12571421304351119 -0.10216042103311535 0.27069186783067078 -0.20069346800014498 0.22080537126737679 0.25443001724308112 0.098811376050334646 0.16529414429980391 0.20773775974029596 -0.1850657692877532 0.27090624564770632 0.092012644336700838 0.13574502590982535 0.076151434438658502 -0.08967539811499603 0.014464805934342686 -0.076044826198730209 -0.17114771943253221 0.21329617529569514 0.27178401379384881 0.22608042924928282 0.0034408885856619604 -0.15697536022820088 0.019309826996111557 0.12264284549549634 0.29097950628650621 0.047796234573339327 -0.1274687122869507 -0.26974813182056323 0.090174239726138083 0.15171247419818359 0.26713048786300903 0.24456819802517571 -0.047687456890960905 0.14397195332265122 -0.09646253321530221 0.079582682617759609 0.2955534389267741 0.22340485151974662 0.012872033175564842 0.10017994379896955 -0.24787363078119701 -0.085237073520495463 0.25919890112745481 0.096059016509898482 0.076386546921773782;-0.23370902218881509 0.09355660428394455 0.01376904690399105 -0.18537779406303614 0.15512195782300556 -0.17192379488200837 0.22763010198031572 0.1544757474822317 -0.28124487834444956 0.20552002022507254 -0.24921328943313414 -0.21714033392983939 -0.1999249304072761 0.14372645812575657 -0.22732414890153435 0.067687356897720569 -0.10823715766545543 -0.16259718658046182 0.013462315543082247 -0.2199798262904947 -0.040009204470095303 0.09275089474918477 -0.045858035031341282 0.15598036278406369 0.10092987300507901 0.088883397450846946 0.067517011806930732 0.16561141527479314 0.044141502639815401 -0.25698253457879705 -0.15546949587608982 0.19196702505482541 0.15013634960712929 -0.28083622384498985 0.2031971260156947 -0.22971765184604062 -0.051684913205245236 -0.1165908194634209 -0.17094784365361942 -0.12996716445131601 0.040772993620758813 -0.19137583748517134 -0.21202943037595812 0.0053828930245728782 -0.26161328615442031 0.18836457672657264 0.30071858894637116 0.2108125867425224 0.2051959532857042 -0.10805312360963779 -0.22108496550066101 -0.067839777357268011 0.13581997252801639 0.2319674500646485 -0.24413400890762635 -0.083682705270856167 0.11507616508743038 -0.2885482250519108 -0.072380665850441922 -0.25431927065231591 0.111658059063591 0.0049987804517933427 -0.024521255951500912 0.015237779569262904 0.29071652971963863 0.048563335668189073 -0.27009134136968604 0.16465116928981796;-0.25324154210139876 0.064686825681695995 0.0097808288337151231 0.21885375290068074 -0.2514766062512323 -0.11812152327468693 -0.013370440963005402 0.25048690619323011 0.24509313971806079 -0.17019279474602519 -0.094956204609383726 -0.20489755590853084 0.0052016622057992346 -0.30326094504656642 -0.25334025688917977 -0.27607765831996928 -0.077317409165061607 -0.035219507656378893 0.12399664776252045 -0.03181120026139668 -0.25911625623093254 0.048740969454947436 0.042970465741544714 -0.13002034008658384 -0.014936587846955916 0.048460938253048529 -0.3021341413019854 0.19880315668904308 0.25112467154613505 -0.037099502514070397 -0.066734812972702812 0.25197852849688768 -0.39252255288207416 -0.0023153294044212895 -0.23438404063632851 -0.00779735613929574 0.24557262806899968 -0.11366219853349187 0.069708374330015088 -0.20276122460621276 -0.097351780042982561 0.20815442579699292 -0.1517798122524735 -0.17689458013578777 0.24708909561961981 -0.27964713633482396 0.20868969616164251 0.17707873824401199 0.13855843146293798 -0.066329984532220609 -0.10181028787923734 -0.14072598949401274 0.082279068755718235 0.2534904230367343 0.19086314408236582 0.079241670982773627 0.013561278011890082 0.20909032507588887 0.055557095355739154 -0.12250095198328109 0.057641118749427137 -0.21837917186905351 0.069370936206678821 0.06690584290198956 -0.072129642371887931 -0.086521768515724767 0.088407699489078104 0.1687668380376246;0.05420393441156808 -0.063888089510148585 -0.053189185969143057 -0.17587188884445926 0.17335382500299093 -0.27563351299098193 0.11482843182851687 -0.35294008613104616 0.12664540754132417 0.30593643792319303 -0.24390287946125344 -0.049953625895426915 0.085750619854834481 0.037058684082894644 0.11936688800169837 0.26502221757776773 0.32619350927946594 0.044504372319095375 -0.22494398602457419 0.11445097887606639 0.1694855768250039 -0.22946611479232407 -0.094607511441026568 -0.18491858046705958 -0.16893134265050883 -0.14237263365838829 -0.14181455177539054 0.27028368877222858 0.18662600777907759 -0.3961762908398429 -0.094990990097717276 0.35232023229031684 -0.10797980527154027 0.042072900622400503 0.11135649656301663 0.26623601699623728 0.22193319866461433 0.0056006021978545067 -0.043546938842811911 0.10955730213813962 -0.20944627430918639 -0.17160405745921994 -0.10839286082703492 -0.25094078927937891 0.055357759280738023 -0.19123762089004978 0.20560268844189328 0.031327862900635065 0.18845163455447747 -0.17322387844473311 -0.011663254591029381 -0.097113713515278449 0.064734708596772411 -0.20843774525275094 0.20820743221052126 -0.039585171460887456 0.055419841534310406 0.19603441906088961 0.068355107813372798 -0.15553912500733802 -0.23248328160041071 -0.03696326740050155 -0.028516658158199246 0.11190611453098628 -0.3131536517153955 0.23472263233387261 0.29398935213613747 -0.018698966707466305;0.18403087148704914 -0.29623572636313705 0.36078469285589831 0.23537337371232062 -0.050478665398626457 -0.12787813476846699 0.20252844531569109 0.14817488567610554 0.0076859390580753667 -0.013450860258396407 0.29069420878075902 0.056883200306986556 0.10541568134805611 0.31118300731304871 0.27059900758756783 -0.21130425274930648 0.032043303215084203 -0.14193984735147158 0.044298524881436194 0.19096503094480394 -0.08935559449290148 0.22943292469298335 -0.19727624205828614 -0.14831448757559287 0.014927067535585793 -0.1645636152338365 -0.20780107958157218 -0.022303384891330574 -0.1413566741183887 -0.14110093020302425 0.14539126317263518 0.14958453564677823 0.0082815590242992544 0.041030812972240358 0.070011060936782235 0.28965921389572763 0.085376165527178541 0.071283923362844517 0.08228076303917653 0.076307362779395677 0.061586535402941581 -0.12115922536112153 -0.077325577032669332 -0.14053975249073664 -0.14565269008332465 -0.1430032063330241 -0.022820872785000161 -0.27475747717051957 -0.059636564124690025 -0.20524312234876835 0.31427134563042297 0.19001772096218661 -0.12746642974942599 -0.0390895168294213 -0.022241592666796518 -0.047397976565224487 0.11150702377454029 -0.15143649706000017 -0.30825989106013435 0.12800245981731101 -0.24180339574848403 -0.061828952348052794 -0.28443254118098182 0.10868567904868494 0.18704365072657322 0.051867687357079598 -0.052757023837877955 -0.099563748435885002;0.044523585185496484 0.31631714511862619 -0.017246439501035361 -0.1229292522046565 0.21964824900538565 -0.23807813370181841 0.13223797739920159 0.066240126178636116 -0.22048800893166143 -0.27731435188732434 0.20589340097117792 -0.044961835182185543 -0.24098342361395358 0.0093392318585406413 -0.052178746941535153 0.077260338584597243 -0.11313534997048307 -0.19399338838010172 0.2031406936769464 -0.16895321930068724 -0.23164774294882007 0.025346905396084737 0.11130455022158024 -0.24768413386926807 -0.23665215457765362 -0.15102840111573626 -0.24961179376050074 -0.077668190690742933 0.0039741980718081479 -0.19820743580280831 0.29024004593370512 0.10400110923712706 -0.074857310226889309 0.14877339332236419 0.30923327576692722 -0.00045900276494000155 -0.066511810547585967 0.20857118427276602 -0.023705767436593972 -0.28477265630136939 -0.27269498259852859 0.11198749363329366 -0.051847044861759284 0.18603070975357539 0.098824715673734229 -0.12613860372451557 -0.11139798535030343 0.09754821227990168 0.24473881051764712 0.15923858252336892 0.20170796530002691 0.28046795787164663 0.1039657406991088 0.053478076994135704 -0.13025953789959308 0.2503227788557868 0.18039510218244512 0.12843850765484163 0.16891290847145424 -0.31087115639518653 -0.076021811708205711 -0.14316624982720014 0.015082462894276293 -0.19404753704737143 0.14008520871072838 0.22287719520243346 -0.089945525836430854 -0.099837110908466586;0.10245328751493603 -0.20968389477388033 -0.24725279411862258 -0.27891462384688798 -0.16046773144095774 -0.2125722083836408 -0.068597216331567387 -0.17883570828912138 0.062807712426944093 -0.30562538259652822 -0.077923742647578259 -0.0015187920531986535 0.0072119933342184913 0.24360727872848795 -0.26845131354898011 -0.13907455363255186 0.1260999017717972 -0.06599247202950731 0.10160620390562489 0.0688745997914057 -0.1561514388712891 0.27372092753848937 -0.30769943281544998 -0.21271382635137151 0.20248455659920089 0.028524206312304699 -0.34179565690421682 0.053105302738280923 -0.34385108791668428 -0.15949986609933386 -0.014060865784253973 -0.019096864645560881 0.2609017719198598 0.10317386292178726 -0.24645705488056335 -0.017561838362835258 0.15385780116701908 -0.046580293009115259 0.13747778862867829 0.0049004651139803162 0.012017760743924903 -0.018935137894225212 0.10540067269178084 0.20733094632561994 0.14239752918967785 -0.18774358347292783 -0.30001922676148068 -0.051491738063072751 -0.40408302628302883 0.10677038335697478 0.086681847338132029 0.19693536788849478 -0.28737858103083047 0.2717889489379206 0.21962366486750115 0.036247988991349768 0.043978434946809378 -0.0029587986267559322 -0.04219076714476766 0.19777856979848982 -0.069618673624423533 -0.043323487817548141 -0.085333783856204826 -0.15208226741285535 -0.06159399351225283 -0.31375523190290144 0.011331238025518945 0.21570798321257231;0.091456011239882451 -0.15077605615279527 -0.08308005897544532 0.12820848057993486 -0.24030180455171099 0.073705299428707294 -0.21903046034794207 0.25624091490190665 0.21038025637655935 -0.099348308830801604 -0.13834670361311099 0.055619733942358161 -0.14619429746076482 0.19784691224880338 -0.11586578853061476 0.17059478240884451 -0.23117678377800233 0.048153898818462687 0.20773664854015542 -0.18671462184465518 -0.25873111884413802 0.14608921844802442 0.018103711526949631 -0.067658154384336325 -0.21250924199013427 -0.19395453571612045 0.2353194064160046 0.03529377776659199 -0.19118521039161041 0.11602657086627662 -0.27740619921659665 0.21190313413741291 0.14918762874813105 0.024126208686239648 0.039306739229436186 -0.15776805441813635 0.13181855191125061 0.10430592505387586 0.2431348914052871 0.15062576861256136 -0.31218884648394857 -0.2413447943095417 -0.091473283851187623 -0.13490118379508001 -0.3307420936228524 -0.28598184150901229 -0.011609719336971969 -0.27843108114004883 -0.012271355434885393 -0.053060296869949286 0.17332874440232007 0.16398643788962905 -0.23990090987067639 0.054896421863529575 -0.26270019686924073 0.058681419475860315 -0.10811169028605386 -0.1041853541383819 -0.09959378201456337 0.11725034550454773 0.088342220592536255 0.1236794285320495 -0.22920051953989409 -0.30674386824369548 -0.10897752309457817 0.0093148869668388864 -0.23668570877238537 0.12881613178960935];

% Layer 2
b2 = -0.78015973446986198;
LW2_1 = [0.60843200306318246 -0.27933318264219414 -0.026609424728322242 0.0036058054273093009 -0.022005265997521714 0.028552677085428097 -0.02533175872838573 0.02069787129201479 0.25397616036919551 0.38310846958537165];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 2;
y1_step1_xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
